{%- assign featured = site.posts | first -%}

<!-- Hero / Intro -->
<section class="max-w-6xl mx-auto px-6 pt-10 pb-8">
  <h1 class="brand font-extrabold text-4xl sm:text-5xl" style="color:#fff">MikeGuides Blog</h1>
  <p class="mt-3" style="color:#e2e8f0">Actionable posts on pricing, marketing, and execution — plus free tools and updates.</p>
</section>

<!-- Featured post (latest) -->
<section class="max-w-6xl mx-auto px-6">
  <article class="rounded-2xl border border-slate-200 bg-white overflow-hidden shadow-[0_10px_25px_-10px_rgba(2,6,23,.1)]">
    <div class="grid md:grid-cols-2">
      <!-- Media -->
      <div class="card-media">
        {%- assign feat_img = featured.image -%}
        {%- if (feat_img == nil or feat_img == "") and featured.cover_key -%}
          {%- assign feat_img = "/assets/images/cover/" | append: featured.cover_key | append: "." | append: site.cover_version | append: "." | append: site.cover_ext -%}
        {%- endif -%}
        {%- assign feat_img = feat_img | default: site.og_image | absolute_url -%}
        <a href="{{ featured.url }}">
          <img src="{{ feat_img }}" alt="{{ featured.title | escape }}">
          <small style="display:block;color:#64748b;padding:.5rem 0">FEATURED IMG → {{ feat_img }}</small>
          <small style="display:block;color:#64748b;padding:.5rem 0">CARD IMG → {{ card_img }}</small>
        </a>
      </div>
      <!-- Text -->
      <div class="p-6 lg:p-8">
        <div class="text-sm text-slate-500">{{ featured.date | date: "%b %d, %Y" }}</div>
        <h2 class="mt-2 text-3xl font-bold" style="font-family:Poppins,Inter,sans-serif">
          <a href="{{ featured.url }}" class="hover:text-[var(--mg-blue)]">{{ featured.title }}</a>
        </h2>
        <p class="mt-3 text-slate-600">{{ featured.description | default: site.description | truncate: 160 }}</p>
        <div class="mt-5">
          <a href="{{ featured.url }}" class="inline-flex items-center justify-center rounded-xl px-5 py-3 font-semibold text-white bg-[var(--mg-blue)] hover:opacity-90">Read the post</a>
        </div>
      </div>
    </div>
  </article>
</section>

<!-- Cards grid -->
<section class="max-w-6xl mx-auto px-6 py-10 grid gap-6 sm:grid-cols-2 lg:grid-cols-3">
  {%- for post in site.posts offset:1 -%}
  <article class="rounded-2xl border border-slate-200 bg-white overflow-hidden shadow-[0_10px_25px_-10px_rgba(2,6,23,.1)]">
    <a href="{{ post.url }}" class="block">
      <div class="card-media">
        {%- assign card_img = post.image -%}
        {%- if (card_img == nil or card_img == "") and post.cover_key -%}
          {%- assign card_img = "/assets/images/cover/" | append: post.cover_key | append: "." | append: site.cover_version | append: "." | append: site.cover_ext -%}
        {%- endif -%}
        {%- assign card_img = card_img | default: site.og_image | absolute_url -%}
        <img src="{{ card_img }}" alt="{{ post.title | escape }}">
      </div>
      <div class="p-6">
        <div class="text-sm text-slate-500">{{ post.date | date: "%b %d, %Y" }}</div>
        <h3 class="mt-1 text-2xl font-bold" style="font-family:Poppins,Inter,sans-serif">
          {{ post.title }}
        </h3>
        <p class="mt-2 text-slate-600">{{ post.description | default: site.description | truncate: 120 }}</p>
        <div class="mt-4">
          <span class="inline-flex items-center justify-center rounded-xl px-4 py-2.5 text-sm font-semibold text-white bg-[var(--mg-blue)] hover:opacity-90">Read more</span>
        </div>
      </div>
    </a>
  </article>
  {%- endfor -%}
</section>
